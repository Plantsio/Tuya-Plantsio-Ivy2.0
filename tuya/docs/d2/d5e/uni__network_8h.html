<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>TuyaOS: include/components/svc_tuya_cloud/include/iot_dns/uni_network.h 文件参考</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">TuyaOS
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- 制作者 Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search",'搜索','.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','搜索');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="../../dir_d66e8d5a7776834ccee339fd5fd3e729.html">components</a></li><li class="navelem"><a class="el" href="../../dir_20b83204aec8329ee853c60b209c8f33.html">svc_tuya_cloud</a></li><li class="navelem"><a class="el" href="../../dir_05dfd07a9199e3d2b29b9c3ed13f92a7.html">include</a></li><li class="navelem"><a class="el" href="../../dir_862b835fe8dced178228233c87765610.html">iot_dns</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">结构体</a> &#124;
<a href="#define-members">宏定义</a> &#124;
<a href="#typedef-members">类型定义</a> &#124;
<a href="#func-members">函数</a>  </div>
  <div class="headertitle"><div class="title">uni_network.h 文件参考</div></div>
</div><!--header-->
<div class="contents">

<p>Tuya iotdns module is the DNS service module provided by Tuya, which ensures that developers can provide reliable, safe and stable DNS services when accessing the network. Tuya iotdns provides a DNS mechanism of mutual protection for static zone DNS resolution, dynamic random zone DNS resolution and local system DNS resolution. Among them, the DNS resolution mechanism relies on Tuya The trusted DNS service provided in the cloud can obtain the optimal DNS policy according to the zone and provide a load balancing mechanism; the dynamic random zone DNS resolution is based on the zone DNS resolution mechanism. In order to avoid a protection mechanism provided by DNS failure 2, a random zone is selected in all non current zones for DNS request; the local system DNS is provided by the local operator As a backing mechanism, the basic DNS service of. Tuya iotdns can switch the resolution mechanism in case of failure to ensure the stability and security of the whole mechanism.  
<a href="#details">更多...</a></p>
<div class="textblock"><code>#include &quot;tuya_iot_config.h&quot;</code><br />
<code>#include &quot;tuya_cloud_types.h&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d5/d87/tal__network_8h_source.html">tal_network.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
uni_network.h 的引用(Include)关系图:</div>
<div class="dyncontent">
<div class="center"><img src="../../d7/d12/uni__network_8h__incl.png" border="0" usemap="#ainclude_2components_2svc__tuya__cloud_2include_2iot__dns_2uni__network_8h" alt=""/></div>
<map name="ainclude_2components_2svc__tuya__cloud_2include_2iot__dns_2uni__network_8h" id="ainclude_2components_2svc__tuya__cloud_2include_2iot__dns_2uni__network_8h">
<area shape="rect" title="Tuya iotdns module is the DNS service module provided by Tuya, which ensures that developers can prov..." alt="" coords="213,5,390,61"/>
<area shape="rect" href="../../d7/d63/tuya__iot__config_8h_source.html" title=" " alt="" coords="5,259,139,285"/>
<area shape="rect" href="../../df/d90/tuya__cloud__types_8h_source.html" title=" " alt="" coords="321,184,469,211"/>
<area shape="rect" href="../../d5/d87/tal__network_8h.html" title="Common process &#45; Initialization" alt="" coords="339,109,450,136"/>
<area shape="rect" title=" " alt="" coords="163,259,237,285"/>
<area shape="rect" title=" " alt="" coords="262,259,333,285"/>
<area shape="rect" title=" " alt="" coords="357,259,432,285"/>
<area shape="rect" title=" " alt="" coords="457,259,527,285"/>
<area shape="rect" title=" " alt="" coords="552,259,635,285"/>
<area shape="rect" title=" " alt="" coords="659,259,730,285"/>
<area shape="rect" href="../../de/dfd/tuya__error__code_8h_source.html" title=" " alt="" coords="755,259,893,285"/>
</map>
</div>
</div><div class="textblock"><div class="dynheader">
此图展示该文件直接或间接的被哪些文件引用了:</div>
<div class="dyncontent">
<div class="center"><img src="../../db/dda/uni__network_8h__dep__incl.png" border="0" usemap="#ainclude_2components_2svc__tuya__cloud_2include_2iot__dns_2uni__network_8hdep" alt=""/></div>
<map name="ainclude_2components_2svc__tuya__cloud_2include_2iot__dns_2uni__network_8hdep" id="ainclude_2components_2svc__tuya__cloud_2include_2iot__dns_2uni__network_8hdep">
<area shape="rect" title="Tuya iotdns module is the DNS service module provided by Tuya, which ensures that developers can prov..." alt="" coords="415,5,593,61"/>
<area shape="rect" href="../../d3/d35/tuya__base__utilities_8h.html" title="tuya utilities module" alt="" coords="425,109,583,180"/>
<area shape="rect" href="../../d6/da6/base__event_8h.html" title="tuya simple event module" alt="" coords="243,228,397,284"/>
<area shape="rect" href="../../d4/d62/gw__intf_8h.html" title="Facility of DevOS definitions" alt="" coords="552,332,720,388"/>
<area shape="rect" href="../../d2/dac/tuya__svc__upgrade__http_8h.html" title="TUYA OTA service" alt="" coords="541,228,731,284"/>
<area shape="rect" href="../../df/d34/tuya__svc__netmgr_8h.html" title="TUYA network manager service" alt="" coords="243,332,397,388"/>
<area shape="rect" href="../../dc/dfa/tuya__svc__mqtt__direct_8h.html" title="TUYA mqtt direct service" alt="" coords="5,332,219,388"/>
<area shape="rect" href="../../d7/dd6/tuya__devos__data_8h_source.html" title=" " alt="" coords="293,436,472,492"/>
<area shape="rect" href="../../d7/d25/mqc__app_8h_source.html" title=" " alt="" coords="133,540,310,596"/>
<area shape="rect" href="../../df/dc9/tuya__svc__mqtt__client_8h.html" title=" " alt="" coords="7,436,219,492"/>
<area shape="rect" href="../../de/d68/tuya__wifi__netcfg_8h_source.html" title=" " alt="" coords="335,540,497,596"/>
<area shape="rect" href="../../d1/d49/tuya__iot__wifi__api_8h.html" title=" " alt="" coords="1330,436,1486,492"/>
<area shape="rect" href="../../da/d19/tuya__devos__utils_8h.html" title="Utilities of DevOS" alt="" coords="547,436,725,492"/>
<area shape="rect" href="../../de/d76/ws__db__gw_8h.html" title="TUYA storage service" alt="" coords="750,436,917,492"/>
<area shape="rect" href="../../df/d69/smart__frame_8h.html" title="Common process &#45; Initialization" alt="" coords="941,436,1105,492"/>
<area shape="rect" href="../../d0/d43/iot__httpc_8h.html" title="HTTP APIs to interact with TUYA cloud" alt="" coords="1129,436,1306,492"/>
</map>
</div>
</div>
<p><a href="../../d2/d5e/uni__network_8h_source.html">浏览源代码.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="structs" name="structs"></a>
结构体</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d3e/structTY__DNS__INFO__S.html">TY_DNS_INFO_S</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">DNS entry info  <a href="../../dc/d3e/structTY__DNS__INFO__S.html#details">更多...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
宏定义</h2></td></tr>
<tr class="memitem:a32e2c051e9778d2e6e653c900e6c1c1d"><td class="memItemLeft" align="right" valign="top"><a id="a32e2c051e9778d2e6e653c900e6c1c1d" name="a32e2c051e9778d2e6e653c900e6c1c1d"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>DNS_PRIO_HTTP</b>&#160;&#160;&#160;0</td></tr>
<tr class="separator:a32e2c051e9778d2e6e653c900e6c1c1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab10a8ac8c6197e977987a2d0a062c34c"><td class="memItemLeft" align="right" valign="top"><a id="ab10a8ac8c6197e977987a2d0a062c34c" name="ab10a8ac8c6197e977987a2d0a062c34c"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>DNS_PRIO_SYSTEM</b>&#160;&#160;&#160;1</td></tr>
<tr class="separator:ab10a8ac8c6197e977987a2d0a062c34c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0faa23cb88937ba7aa48145fb6378741"><td class="memItemLeft" align="right" valign="top"><a id="a0faa23cb88937ba7aa48145fb6378741" name="a0faa23cb88937ba7aa48145fb6378741"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>MAX_DOMAIN_NAME_LEN</b>&#160;&#160;&#160;128</td></tr>
<tr class="memdesc:a0faa23cb88937ba7aa48145fb6378741"><td class="mdescLeft">&#160;</td><td class="mdescRight">max length of domain name <br /></td></tr>
<tr class="separator:a0faa23cb88937ba7aa48145fb6378741"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="typedef-members" name="typedef-members"></a>
类型定义</h2></td></tr>
<tr class="memitem:acebd1d84fc622abaa830106e8bb4ccdc"><td class="memItemLeft" align="right" valign="top"><a id="acebd1d84fc622abaa830106e8bb4ccdc" name="acebd1d84fc622abaa830106e8bb4ccdc"></a>
typedef UINT_T&#160;</td><td class="memItemRight" valign="bottom"><b>TY_DNS_PRIO_T</b></td></tr>
<tr class="memdesc:acebd1d84fc622abaa830106e8bb4ccdc"><td class="mdescLeft">&#160;</td><td class="mdescRight">DNS priority <br /></td></tr>
<tr class="separator:acebd1d84fc622abaa830106e8bb4ccdc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
函数</h2></td></tr>
<tr class="memitem:a78b5fb7e5bbd1f554db97664d566ae07"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d2/d5e/uni__network_8h.html#acebd1d84fc622abaa830106e8bb4ccdc">TY_DNS_PRIO_T</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d5e/uni__network_8h.html#a78b5fb7e5bbd1f554db97664d566ae07">unm_get_dns_cache_priority</a> (VOID)</td></tr>
<tr class="memdesc:a78b5fb7e5bbd1f554db97664d566ae07"><td class="mdescLeft">&#160;</td><td class="mdescRight">get the dns current priority  <a href="../../d2/d5e/uni__network_8h.html#a78b5fb7e5bbd1f554db97664d566ae07">更多...</a><br /></td></tr>
<tr class="separator:a78b5fb7e5bbd1f554db97664d566ae07"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa3e8ce4a780fc06cf508df227ee6d178"><td class="memItemLeft" align="right" valign="top">VOID&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d5e/uni__network_8h.html#aa3e8ce4a780fc06cf508df227ee6d178">unm_lower_dns_cache_priority</a> (VOID)</td></tr>
<tr class="memdesc:aa3e8ce4a780fc06cf508df227ee6d178"><td class="mdescLeft">&#160;</td><td class="mdescRight">decrease the dns current priority  <a href="../../d2/d5e/uni__network_8h.html#aa3e8ce4a780fc06cf508df227ee6d178">更多...</a><br /></td></tr>
<tr class="separator:aa3e8ce4a780fc06cf508df227ee6d178"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2187fbce8bf05dfcefd3d4204b3d9aed"><td class="memItemLeft" align="right" valign="top">OPERATE_RET&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d5e/uni__network_8h.html#a2187fbce8bf05dfcefd3d4204b3d9aed">unm_set_dns_cache_priority</a> (<a class="el" href="../../d2/d5e/uni__network_8h.html#acebd1d84fc622abaa830106e8bb4ccdc">TY_DNS_PRIO_T</a> dns_prio)</td></tr>
<tr class="memdesc:a2187fbce8bf05dfcefd3d4204b3d9aed"><td class="mdescLeft">&#160;</td><td class="mdescRight">set the dns priority  <a href="../../d2/d5e/uni__network_8h.html#a2187fbce8bf05dfcefd3d4204b3d9aed">更多...</a><br /></td></tr>
<tr class="separator:a2187fbce8bf05dfcefd3d4204b3d9aed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81f665d09efd2c09da55beeeb9b34ea3"><td class="memItemLeft" align="right" valign="top">OPERATE_RET&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d5e/uni__network_8h.html#a81f665d09efd2c09da55beeeb9b34ea3">unw_add_dns_cache</a> (CONST CHAR_T *domain, CONST TUYA_IP_ADDR_T ip)</td></tr>
<tr class="memdesc:a81f665d09efd2c09da55beeeb9b34ea3"><td class="mdescLeft">&#160;</td><td class="mdescRight">add dns information to dynamic dns cache  <a href="../../d2/d5e/uni__network_8h.html#a81f665d09efd2c09da55beeeb9b34ea3">更多...</a><br /></td></tr>
<tr class="separator:a81f665d09efd2c09da55beeeb9b34ea3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f24c8da10892223d8e5da84b86195c3"><td class="memItemLeft" align="right" valign="top">OPERATE_RET&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d5e/uni__network_8h.html#a6f24c8da10892223d8e5da84b86195c3">unw_clear_all_dns_cache</a> (VOID)</td></tr>
<tr class="memdesc:a6f24c8da10892223d8e5da84b86195c3"><td class="mdescLeft">&#160;</td><td class="mdescRight">clean all dynamic dns cache  <a href="../../d2/d5e/uni__network_8h.html#a6f24c8da10892223d8e5da84b86195c3">更多...</a><br /></td></tr>
<tr class="separator:a6f24c8da10892223d8e5da84b86195c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a009e8241d41fb8fa90fb7bd1a46ee1e0"><td class="memItemLeft" align="right" valign="top">OPERATE_RET&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d5e/uni__network_8h.html#a009e8241d41fb8fa90fb7bd1a46ee1e0">unw_clear_dns_cache</a> (CONST CHAR_T *domain)</td></tr>
<tr class="memdesc:a009e8241d41fb8fa90fb7bd1a46ee1e0"><td class="mdescLeft">&#160;</td><td class="mdescRight">clear the specific domain dns cache  <a href="../../d2/d5e/uni__network_8h.html#a009e8241d41fb8fa90fb7bd1a46ee1e0">更多...</a><br /></td></tr>
<tr class="separator:a009e8241d41fb8fa90fb7bd1a46ee1e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adca6220e08d50ff9ae4afa2f4fbd8b3a"><td class="memItemLeft" align="right" valign="top">OPERATE_RET&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d5e/uni__network_8h.html#adca6220e08d50ff9ae4afa2f4fbd8b3a">unw_connect_to_domain</a> (INT_T *sockfd, CHAR_T *hostname, UINT16_T port, UINT_T retry_cnt, UINT_T timeout)</td></tr>
<tr class="memdesc:adca6220e08d50ff9ae4afa2f4fbd8b3a"><td class="mdescLeft">&#160;</td><td class="mdescRight">connect to a domain with specific tcp port  <a href="../../d2/d5e/uni__network_8h.html#adca6220e08d50ff9ae4afa2f4fbd8b3a">更多...</a><br /></td></tr>
<tr class="separator:adca6220e08d50ff9ae4afa2f4fbd8b3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7168abfe359e466b54911087acf5527c"><td class="memItemLeft" align="right" valign="top">OPERATE_RET&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d5e/uni__network_8h.html#a7168abfe359e466b54911087acf5527c">unw_gethostbyname</a> (CONST CHAR_T *domain, TUYA_IP_ADDR_T *addr)</td></tr>
<tr class="memdesc:a7168abfe359e466b54911087acf5527c"><td class="mdescLeft">&#160;</td><td class="mdescRight">get the domain ip address info by the domain name  <a href="../../d2/d5e/uni__network_8h.html#a7168abfe359e466b54911087acf5527c">更多...</a><br /></td></tr>
<tr class="separator:a7168abfe359e466b54911087acf5527c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ac68b07e4427e39f33663e24d1d4970"><td class="memItemLeft" align="right" valign="top">OPERATE_RET&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d5e/uni__network_8h.html#a9ac68b07e4427e39f33663e24d1d4970">unw_init_dns_cache</a> (VOID)</td></tr>
<tr class="memdesc:a9ac68b07e4427e39f33663e24d1d4970"><td class="mdescLeft">&#160;</td><td class="mdescRight">init the dns module  <a href="../../d2/d5e/uni__network_8h.html#a9ac68b07e4427e39f33663e24d1d4970">更多...</a><br /></td></tr>
<tr class="separator:a9ac68b07e4427e39f33663e24d1d4970"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">详细描述</h2>
<div class="textblock"><p >Tuya iotdns module is the DNS service module provided by Tuya, which ensures that developers can provide reliable, safe and stable DNS services when accessing the network. Tuya iotdns provides a DNS mechanism of mutual protection for static zone DNS resolution, dynamic random zone DNS resolution and local system DNS resolution. Among them, the DNS resolution mechanism relies on Tuya The trusted DNS service provided in the cloud can obtain the optimal DNS policy according to the zone and provide a load balancing mechanism; the dynamic random zone DNS resolution is based on the zone DNS resolution mechanism. In order to avoid a protection mechanism provided by DNS failure 2, a random zone is selected in all non current zones for DNS request; the local system DNS is provided by the local operator As a backing mechanism, the basic DNS service of. Tuya iotdns can switch the resolution mechanism in case of failure to ensure the stability and security of the whole mechanism. </p>
<dl class="section version"><dt>版本</dt><dd>1.0</dd></dl>
<dl class="section date"><dt>日期</dt><dd>2019-09-09</dd></dl>
<dl class="section copyright"><dt>版权所有</dt><dd>Copyright (c) tuya.inc 2019 </dd></dl>
</div><h2 class="groupheader">函数说明</h2>
<a id="a78b5fb7e5bbd1f554db97664d566ae07" name="a78b5fb7e5bbd1f554db97664d566ae07"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a78b5fb7e5bbd1f554db97664d566ae07">&#9670;&nbsp;</a></span>unm_get_dns_cache_priority()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/d5e/uni__network_8h.html#acebd1d84fc622abaa830106e8bb4ccdc">TY_DNS_PRIO_T</a> unm_get_dns_cache_priority </td>
          <td>(</td>
          <td class="paramtype">VOID&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>get the dns current priority </p>
<dl class="section return"><dt>返回</dt><dd>REGION_E the current priority </dd></dl>

</div>
</div>
<a id="aa3e8ce4a780fc06cf508df227ee6d178" name="aa3e8ce4a780fc06cf508df227ee6d178"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa3e8ce4a780fc06cf508df227ee6d178">&#9670;&nbsp;</a></span>unm_lower_dns_cache_priority()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VOID unm_lower_dns_cache_priority </td>
          <td>(</td>
          <td class="paramtype">VOID&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>decrease the dns current priority </p>
<dl class="section note"><dt>注解</dt><dd>if the priority is DNS_PRIO_SYSTEM, lower dns priority will return to DNS_PRIO_REGION </dd></dl>

</div>
</div>
<a id="a2187fbce8bf05dfcefd3d4204b3d9aed" name="a2187fbce8bf05dfcefd3d4204b3d9aed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2187fbce8bf05dfcefd3d4204b3d9aed">&#9670;&nbsp;</a></span>unm_set_dns_cache_priority()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">OPERATE_RET unm_set_dns_cache_priority </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d5e/uni__network_8h.html#acebd1d84fc622abaa830106e8bb4ccdc">TY_DNS_PRIO_T</a>&#160;</td>
          <td class="paramname"><em>dns_prio</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>set the dns priority </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">dns_prio</td><td>the new dns priority </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>OPRT_OK: success, others: fail, please refer to <a class="el" href="../../de/dfd/tuya__error__code_8h_source.html">tuya_error_code.h</a> </dd></dl>

</div>
</div>
<a id="a81f665d09efd2c09da55beeeb9b34ea3" name="a81f665d09efd2c09da55beeeb9b34ea3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a81f665d09efd2c09da55beeeb9b34ea3">&#9670;&nbsp;</a></span>unw_add_dns_cache()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">OPERATE_RET unw_add_dns_cache </td>
          <td>(</td>
          <td class="paramtype">CONST CHAR_T *&#160;</td>
          <td class="paramname"><em>domain</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CONST TUYA_IP_ADDR_T&#160;</td>
          <td class="paramname"><em>ip</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>add dns information to dynamic dns cache </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">domain</td><td>the domian name </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ip</td><td>the ip address of the domain name </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>OPRT_OK: success, others: fail, please refer to <a class="el" href="../../de/dfd/tuya__error__code_8h_source.html">tuya_error_code.h</a> </dd></dl>

</div>
</div>
<a id="a6f24c8da10892223d8e5da84b86195c3" name="a6f24c8da10892223d8e5da84b86195c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6f24c8da10892223d8e5da84b86195c3">&#9670;&nbsp;</a></span>unw_clear_all_dns_cache()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">OPERATE_RET unw_clear_all_dns_cache </td>
          <td>(</td>
          <td class="paramtype">VOID&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>clean all dynamic dns cache </p>
<dl class="section return"><dt>返回</dt><dd>OPRT_OK: success, others: fail, please refer to <a class="el" href="../../de/dfd/tuya__error__code_8h_source.html">tuya_error_code.h</a> </dd></dl>

</div>
</div>
<a id="a009e8241d41fb8fa90fb7bd1a46ee1e0" name="a009e8241d41fb8fa90fb7bd1a46ee1e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a009e8241d41fb8fa90fb7bd1a46ee1e0">&#9670;&nbsp;</a></span>unw_clear_dns_cache()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">OPERATE_RET unw_clear_dns_cache </td>
          <td>(</td>
          <td class="paramtype">CONST CHAR_T *&#160;</td>
          <td class="paramname"><em>domain</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>clear the specific domain dns cache </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">domain</td><td>the domian which need to clear </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>OPRT_OK: success, others: fail, please refer to <a class="el" href="../../de/dfd/tuya__error__code_8h_source.html">tuya_error_code.h</a> </dd></dl>

</div>
</div>
<a id="adca6220e08d50ff9ae4afa2f4fbd8b3a" name="adca6220e08d50ff9ae4afa2f4fbd8b3a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adca6220e08d50ff9ae4afa2f4fbd8b3a">&#9670;&nbsp;</a></span>unw_connect_to_domain()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">OPERATE_RET unw_connect_to_domain </td>
          <td>(</td>
          <td class="paramtype">INT_T *&#160;</td>
          <td class="paramname"><em>sockfd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CHAR_T *&#160;</td>
          <td class="paramname"><em>hostname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UINT16_T&#160;</td>
          <td class="paramname"><em>port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UINT_T&#160;</td>
          <td class="paramname"><em>retry_cnt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UINT_T&#160;</td>
          <td class="paramname"><em>timeout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>connect to a domain with specific tcp port </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">sockfd</td><td>the socket fd </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">hostname</td><td>the domian name </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">port</td><td>the tcp port </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">retry_cnt</td><td>retry count if tcp connect failed </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">timeout</td><td>timeout in ms </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>OPRT_OK: success, others: fail, please refer to <a class="el" href="../../de/dfd/tuya__error__code_8h_source.html">tuya_error_code.h</a> </dd></dl>

</div>
</div>
<a id="a7168abfe359e466b54911087acf5527c" name="a7168abfe359e466b54911087acf5527c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7168abfe359e466b54911087acf5527c">&#9670;&nbsp;</a></span>unw_gethostbyname()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">OPERATE_RET unw_gethostbyname </td>
          <td>(</td>
          <td class="paramtype">CONST CHAR_T *&#160;</td>
          <td class="paramname"><em>domain</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">TUYA_IP_ADDR_T *&#160;</td>
          <td class="paramname"><em>addr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>get the domain ip address info by the domain name </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">domain</td><td>the domain name </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">addr</td><td>the ip address of the domain </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>OPRT_OK: success, others: fail, please refer to <a class="el" href="../../de/dfd/tuya__error__code_8h_source.html">tuya_error_code.h</a> </dd></dl>

</div>
</div>
<a id="a9ac68b07e4427e39f33663e24d1d4970" name="a9ac68b07e4427e39f33663e24d1d4970"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9ac68b07e4427e39f33663e24d1d4970">&#9670;&nbsp;</a></span>unw_init_dns_cache()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">OPERATE_RET unw_init_dns_cache </td>
          <td>(</td>
          <td class="paramtype">VOID&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>init the dns module </p>
<dl class="section return"><dt>返回</dt><dd>OPRT_OK: success, others: fail, please refer to <a class="el" href="../../de/dfd/tuya__error__code_8h_source.html">tuya_error_code.h</a> </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
制作者&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.4
</small></address>
</body>
</html>
